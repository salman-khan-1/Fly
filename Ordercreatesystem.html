<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERP - Reorder Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --primary: #2c7be5;
            --primary-light: #e3ebf7;
            --secondary: #6c757d;
            --success: #00b383;
            --warning: #f5b759;
            --danger: #e63757;
            --light: #f9fafc;
            --dark: #1a1a1a;
            --border: #e3e6f0;
            --shadow: 0 0.15rem 1rem rgba(58, 59, 69, 0.1);
            --radius: 8px;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background-color: #f8f9fc;
            color: #3a3b45;
            line-height: 1.5;
        }

        .dashboard-header {
            background: white;
            box-shadow: var(--shadow);
            padding: 1.5rem 0;
            margin-bottom: 1.5rem;
        }

        .page-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.25rem;
        }

        .page-subtitle {
            color: var(--secondary);
            font-size: 0.95rem;
        }

        .summary-card {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            height: 100%;
        }

        .summary-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 0.5rem 1.5rem rgba(58, 59, 69, 0.15);
        }

        .summary-card .card-body {
            padding: 1.25rem;
        }

        .card-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .card-icon-warning {
            background-color: rgba(245, 183, 89, 0.15);
            color: var(--warning);
        }

        .card-icon-danger {
            background-color: rgba(230, 55, 87, 0.15);
            color: var(--danger);
        }

        .card-icon-info {
            background-color: rgba(44, 123, 229, 0.15);
            color: var(--primary);
        }

        .card-icon-success {
            background-color: rgba(0, 179, 131, 0.15);
            color: var(--success);
        }

        .card-value {
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .card-label {
            color: var(--secondary);
            font-size: 0.875rem;
        }

        .table-container {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .table thead th {
            background-color: var(--light);
            border-bottom: 1px solid var(--border);
            font-weight: 600;
            color: var(--dark);
            padding: 0.875rem 1rem;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .table tbody td {
            padding: 1rem;
            vertical-align: middle;
            border-color: var(--border);
        }

        .table tbody tr {
            transition: background-color 0.15s ease;
        }

        .table tbody tr:hover {
            background-color: rgba(44, 123, 229, 0.03);
        }

        .status-badge {
            padding: 0.35rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .status-normal {
            background-color: rgba(0, 179, 131, 0.1);
            color: var(--success);
        }

        .status-low {
            background-color: rgba(245, 183, 89, 0.1);
            color: #b47d00;
        }

        .status-out {
            background-color: rgba(230, 55, 87, 0.1);
            color: var(--danger);
        }

        .product-img {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            object-fit: cover;
            border: 1px solid var(--border);
        }

        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
            border-radius: var(--radius);
            font-weight: 500;
            padding: 0.5rem 1.25rem;
        }

        .btn-primary:hover {
            background-color: #1a68d1;
            border-color: #1a68d1;
        }

        .btn-outline-primary {
            border-color: var(--primary);
            color: var(--primary);
            border-radius: var(--radius);
            font-weight: 500;
        }

        .btn-outline-primary:hover {
            background-color: var(--primary);
            border-color: var(--primary);
        }

        .btn-sm {
            padding: 0.375rem 0.75rem;
            font-size: 0.8125rem;
        }

        .form-control, .form-select {
            border-radius: var(--radius);
            border: 1px solid var(--border);
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 0.2rem rgba(44, 123, 229, 0.25);
        }

        .search-box {
            position: relative;
        }

        .search-box .form-control {
            padding-left: 2.5rem;
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--secondary);
            z-index: 5;
        }

        /* Stock status indicators */
        tr.low-stock {
            background-color: rgba(245, 183, 89, 0.05);
        }

        tr.out-of-stock {
            background-color: rgba(230, 55, 87, 0.05);
        }

        /* Reorder options */
        .supplier-option {
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 12px;
            margin-bottom: 10px;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .supplier-option:hover {
            background-color: rgba(44, 123, 229, 0.05);
            border-color: var(--primary);
        }

        .supplier-option.selected {
            background-color: rgba(44, 123, 229, 0.1);
            border: 2px solid var(--primary);
        }

        .best-price {
            position: relative;
            overflow: hidden;
        }

        .best-price::before {
            content: "BEST PRICE";
            position: absolute;
            top: 0;
            right: 0;
            background: var(--success);
            color: white;
            font-size: 0.7rem;
            font-weight: bold;
            padding: 2px 8px;
            border-bottom-left-radius: 8px;
        }

        /* Toast Styles */
        .toast-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1100;
        }

        .toast {
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: none;
            overflow: hidden;
        }

        .toast-header {
            background: white;
            border-bottom: 1px solid var(--border);
        }

        .toast-success {
            border-left: 4px solid var(--success);
        }

        /* Modal styles */
        .modal-header {
            border-bottom: 1px solid var(--border);
        }

        .modal-footer {
            border-top: 1px solid var(--border);
        }

        /* Progress bar */
        .progress {
            height: 6px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--warning), var(--danger));
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .dashboard-header .btn {
                margin-top: 10px;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header class="dashboard-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h1 class="page-title">Reorder Management</h1>
                    <p class="page-subtitle">Monitor stock levels and automate purchase requests</p>
                </div>
                <div class="col-md-6">
                    <div class="d-flex flex-wrap justify-content-md-end gap-2">
                        <div class="search-box me-2">
                            <i class="bi bi-search search-icon"></i>
                            <input type="text" class="form-control" placeholder="Search products...">
                        </div>
                        <div class="dropdown me-2">
                            <button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                <i class="bi bi-funnel me-1"></i> Filters
                            </button>
                            <ul class="dropdown-menu">
                                <li><h6 class="dropdown-header">Warehouse</h6></li>
                                <li><a class="dropdown-item" href="#">Main Warehouse</a></li>
                                <li><a class="dropdown-item" href="#">West Distribution</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><h6 class="dropdown-header">Supplier</h6></li>
                                <li><a class="dropdown-item" href="#">TechSupplies Inc</a></li>
                                <li><a class="dropdown-item" href="#">Global Components</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><h6 class="dropdown-header">Category</h6></li>
                                <li><a class="dropdown-item" href="#">Electronics</a></li>
                                <li><a class="dropdown-item" href="#">Office Supplies</a></li>
                            </ul>
                        </div>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createRequisitionModal">
                            <i class="bi bi-plus-circle me-1"></i> Create Purchase Requisition
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Summary Cards -->
        <div class="row mb-4">
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card summary-card">
                    <div class="card-body">
                        <div class="card-icon card-icon-warning">
                            <i class="bi bi-exclamation-triangle fs-5"></i>
                        </div>
                        <div class="card-value text-warning">24</div>
                        <div class="card-label">Items Below Reorder Point</div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card summary-card">
                    <div class="card-body">
                        <div class="card-icon card-icon-danger">
                            <i class="bi bi-x-circle fs-5"></i>
                        </div>
                        <div class="card-value text-danger">7</div>
                        <div class="card-label">Out-of-Stock Items</div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card summary-card">
                    <div class="card-body">
                        <div class="card-icon card-icon-info">
                            <i class="bi bi-truck fs-5"></i>
                        </div>
                        <div class="card-value text-primary">15</div>
                        <div class="card-label">Incoming Shipments</div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card summary-card">
                    <div class="card-body">
                        <div class="card-icon card-icon-success">
                            <i class="bi bi-robot fs-5"></i>
                        </div>
                        <div class="card-value text-success">9</div>
                        <div class="card-label">Auto-Reorder Tasks Pending</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reorder Table -->
        <div class="table-container">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th scope="col">Product</th>
                            <th scope="col">SKU</th>
                            <th scope="col">Current Stock</th>
                            <th scope="col">Reorder Point</th>
                            <th scope="col">Safety Stock</th>
                            <th scope="col">Lead Time (Days)</th>
                            <th scope="col">Reorder Quantity</th>
                            <th scope="col">Status</th>
                            <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Sample Data Rows -->
                        <tr class="low-stock" data-product-id="1" data-bs-toggle="modal" data-bs-target="#reorderModal">
                            <td>
                                <div class="d-flex align-items-center">
                                    <img src="https://via.placeholder.com/40" class="product-img me-3" alt="Product">
                                    <div>
                                        <div class="fw-semibold">Quantum Processor QX-9000</div>
                                        <small class="text-muted">Electronics</small>
                                    </div>
                                </div>
                            </td>
                            <td>QP-QX9000</td>
                            <td>45</td>
                            <td>50</td>
                            <td>25</td>
                            <td>7</td>
                            <td>100</td>
                            <td><span class="status-badge status-low">Low Stock</span></td>
                            <td>
                                <button class="btn btn-primary btn-sm reorder-btn">
                                    <i class="bi bi-cart-plus me-1"></i> Reorder Now
                                </button>
                            </td>
                        </tr>
                        <tr class="out-of-stock" data-product-id="2" data-bs-toggle="modal" data-bs-target="#reorderModal">
                            <td>
                                <div class="d-flex align-items-center">
                                    <img src="https://via.placeholder.com/40" class="product-img me-3" alt="Product">
                                    <div>
                                        <div class="fw-semibold">Holographic Display Panel</div>
                                        <small class="text-muted">Displays</small>
                                    </div>
                                </div>
                            </td>
                            <td>HD-PANEL32</td>
                            <td>0</td>
                            <td>20</td>
                            <td>10</td>
                            <td>14</td>
                            <td>50</td>
                            <td><span class="status-badge status-out">Out of Stock</span></td>
                            <td>
                                <button class="btn btn-primary btn-sm reorder-btn">
                                    <i class="bi bi-cart-plus me-1"></i> Reorder Now
                                </button>
                            </td>
                        </tr>
                        <tr data-product-id="3" data-bs-toggle="modal" data-bs-target="#reorderModal">
                            <td>
                                <div class="d-flex align-items-center">
                                    <img src="https://via.placeholder.com/40" class="product-img me-3" alt="Product">
                                    <div>
                                        <div class="fw-semibold">Neural Interface Chip</div>
                                        <small class="text-muted">Biotech</small>
                                    </div>
                                </div>
                            </td>
                            <td>NI-CHIPV2</td>
                            <td>150</td>
                            <td>30</td>
                            <td>15</td>
                            <td>21</td>
                            <td>75</td>
                            <td><span class="status-badge status-normal">Normal</span></td>
                            <td>
                                <button class="btn btn-outline-primary btn-sm reorder-btn">
                                    <i class="bi bi-cart-plus me-1"></i> Reorder Now
                                </button>
                            </td>
                        </tr>
                        <tr class="low-stock" data-product-id="4" data-bs-toggle="modal" data-bs-target="#reorderModal">
                            <td>
                                <div class="d-flex align-items-center">
                                    <img src="https://via.placeholder.com/40" class="product-img me-3" alt="Product">
                                    <div>
                                        <div class="fw-semibold">Plasma Energy Cell</div>
                                        <small class="text-muted">Energy</small>
                                    </div>
                                </div>
                            </td>
                            <td>PE-CELL5000</td>
                            <td>12</td>
                            <td>25</td>
                            <td>12</td>
                            <td>5</td>
                            <td>100</td>
                            <td><span class="status-badge status-low">Low Stock</span></td>
                            <td>
                                <button class="btn btn-primary btn-sm reorder-btn">
                                    <i class="bi bi-cart-plus me-1"></i> Reorder Now
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <!-- Reorder Modal -->
    <div class="modal fade" id="reorderModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Reorder Product</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-8">
                            <h6 id="productName">Product Name</h6>
                            <p class="text-muted mb-2" id="productSku">SKU: </p>
                            <div class="d-flex align-items-center">
                                <span class="me-3">Stock Level:</span>
                                <div class="progress flex-grow-1 me-3" style="max-width: 200px;">
                                    <div class="progress-bar" role="progressbar" id="stockProgress"></div>
                                </div>
                                <span id="stockText"></span>
                            </div>
                        </div>
                        <div class="col-md-4 text-end">
                            <img src="https://via.placeholder.com/100" class="img-fluid rounded" alt="Product" id="productImage">
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="orderQuantity" class="form-label">Order Quantity</label>
                        <input type="number" class="form-control" id="orderQuantity" value="100" min="1">
                        <div class="form-text">Recommended quantity: <span id="recommendedQty">100</span> units</div>
                    </div>

                    <h6 class="mb-3">Select Supplier</h6>
                    <div id="supplierOptions">
                        <!-- Supplier options will be dynamically added here -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="confirmReorderBtn">Create Purchase Order</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Requisition Modal -->
    <div class="modal fade" id="createRequisitionModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create Purchase Requisition</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="requisitionTitle" class="form-label">Requisition Title</label>
                        <input type="text" class="form-control" id="requisitionTitle" placeholder="Enter title">
                    </div>
                    <div class="mb-3">
                        <label for="requisitionDepartment" class="form-label">Department</label>
                        <select class="form-select" id="requisitionDepartment">
                            <option selected>Select department</option>
                            <option>Procurement</option>
                            <option>Operations</option>
                            <option>IT</option>
                            <option>Manufacturing</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="requisitionNotes" class="form-label">Notes</label>
                        <textarea class="form-control" id="requisitionNotes" rows="3"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">Create Requisition</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container">
        <!-- Toasts will be dynamically added here -->
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Sample product data
        const products = [
            {
                id: 1,
                name: "Quantum Processor QX-9000",
                sku: "QP-QX9000",
                currentStock: 45,
                minStock: 50,
                safetyStock: 25,
                leadTime: 7,
                reorderQuantity: 100,
                category: "Electronics",
                suppliers: [
                    { id: 1, name: "Nexus Tech", price: 249.99, delivery: "2 days", rating: 4.8 },
                    { id: 2, name: "Future Components", price: 229.99, delivery: "3 days", rating: 4.5 },
                    { id: 3, name: "Quantum Supplies", price: 259.99, delivery: "1 day", rating: 4.9 }
                ]
            },
            {
                id: 2,
                name: "Holographic Display Panel",
                sku: "HD-PANEL32",
                currentStock: 0,
                minStock: 20,
                safetyStock: 10,
                leadTime: 14,
                reorderQuantity: 50,
                category: "Displays",
                suppliers: [
                    { id: 1, name: "VisionTech", price: 189.99, delivery: "5 days", rating: 4.3 },
                    { id: 2, name: "HoloSystems", price: 179.99, delivery: "4 days", rating: 4.6 },
                    { id: 3, name: "Future Displays", price: 199.99, delivery: "2 days", rating: 4.7 }
                ]
            },
            {
                id: 3,
                name: "Neural Interface Chip",
                sku: "NI-CHIPV2",
                currentStock: 150,
                minStock: 30,
                safetyStock: 15,
                leadTime: 21,
                reorderQuantity: 75,
                category: "Biotech",
                suppliers: [
                    { id: 1, name: "NeuroLink Inc", price: 399.99, delivery: "7 days", rating: 4.9 },
                    { id: 2, name: "Synapse Tech", price: 359.99, delivery: "5 days", rating: 4.4 },
                    { id: 3, name: "Cortex Systems", price: 379.99, delivery: "3 days", rating: 4.7 }
                ]
            },
            {
                id: 4,
                name: "Plasma Energy Cell",
                sku: "PE-CELL5000",
                currentStock: 12,
                minStock: 25,
                safetyStock: 12,
                leadTime: 5,
                reorderQuantity: 100,
                category: "Energy",
                suppliers: [
                    { id: 1, name: "PowerCore", price: 89.99, delivery: "2 days", rating: 4.5 },
                    { id: 2, name: "Energy Solutions", price: 79.99, delivery: "4 days", rating: 4.2 },
                    { id: 3, name: "Quantum Power", price: 99.99, delivery: "1 day", rating: 4.8 }
                ]
            }
        ];

        // Current state
        let currentProduct = null;
        let selectedSupplier = null;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
        });

        // Setup event listeners
        function setupEventListeners() {
            // Handle reorder modal show event
            const reorderModal = document.getElementById('reorderModal');
            reorderModal.addEventListener('show.bs.modal', function(event) {
                const button = event.relatedTarget;
                const productId = button.closest('tr').getAttribute('data-product-id');
                currentProduct = products.find(p => p.id == productId);
                
                if (currentProduct) {
                    populateReorderModal(currentProduct);
                }
            });

            // Handle confirm reorder button
            document.getElementById('confirmReorderBtn').addEventListener('click', confirmReorder);
        }

        // Populate reorder modal with product data
        function populateReorderModal(product) {
            // Update product info
            document.getElementById('productName').textContent = product.name;
            document.getElementById('productSku').textContent = `SKU: ${product.sku}`;
            document.getElementById('recommendedQty').textContent = product.reorderQuantity;
            document.getElementById('orderQuantity').value = product.reorderQuantity;

            // Update stock progress
            const stockProgress = document.getElementById('stockProgress');
            const stockText = document.getElementById('stockText');
            const stockPercent = Math.min(100, (product.currentStock / product.minStock) * 100);
            
            stockProgress.style.width = `${stockPercent}%`;
            stockText.textContent = `${product.currentStock} / ${product.minStock}`;

            // Set progress bar color based on stock level
            if (product.currentStock === 0) {
                stockProgress.style.background = '#e63757';
            } else if (product.currentStock < product.minStock) {
                stockProgress.style.background = '#f5b759';
            } else {
                stockProgress.style.background = '#00b383';
            }

            // Populate supplier options
            const supplierOptions = document.getElementById('supplierOptions');
            supplierOptions.innerHTML = '';

            // Sort suppliers by price (lowest first)
            const sortedSuppliers = [...product.suppliers].sort((a, b) => a.price - b.price);

            sortedSuppliers.forEach((supplier, index) => {
                const supplierElement = document.createElement('div');
                supplierElement.className = `supplier-option ${index === 0 ? 'best-price' : ''}`;
                supplierElement.innerHTML = `
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="supplier" 
                               id="supplier-${supplier.id}" value="${supplier.id}">
                        <label class="form-check-label w-100" for="supplier-${supplier.id}">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="mb-0">${supplier.name}</h6>
                                    <small class="text-muted">Delivery: ${supplier.delivery} â€¢ Rating: ${supplier.rating}/5</small>
                                </div>
                                <div class="text-end">
                                    <div class="h5 mb-0">$${supplier.price.toFixed(2)}</div>
                                    ${index === 0 ? '<small class="text-success">Best Price</small>' : ''}
                                </div>
                            </div>
                        </label>
                    </div>
                `;

                // Add selection handler
                const radioBtn = supplierElement.querySelector('input[type="radio"]');
                radioBtn.addEventListener('change', () => {
                    if (radioBtn.checked) {
                        selectedSupplier = supplier;
                        document.querySelectorAll('.supplier-option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        supplierElement.classList.add('selected');
                    }
                });

                // Auto-select the first (best price) supplier
                if (index === 0) {
                    radioBtn.checked = true;
                    selectedSupplier = supplier;
                    supplierElement.classList.add('selected');
                }

                supplierOptions.appendChild(supplierElement);
            });
        }

        // Confirm reorder and create purchase order
        function confirmReorder() {
            if (!currentProduct || !selectedSupplier) {
                showToast('Please select a supplier', 'warning');
                return;
            }

            const quantity = parseInt(document.getElementById('orderQuantity').value);
            const totalCost = selectedSupplier.price * quantity;

            // In a real application, this would send the order to the backend
            const po = {
                product: currentProduct.name,
                supplier: selectedSupplier.name,
                quantity: quantity,
                unitPrice: selectedSupplier.price,
                total: totalCost,
                delivery: selectedSupplier.delivery,
                status: 'Pending'
            };

            console.log('Purchase Order Created:', po);
            
            // Show success toast
            showToast(`Purchase order created for ${currentProduct.name} with ${selectedSupplier.name}`, 'success');
            
            // Close modal
            bootstrap.Modal.getInstance(document.getElementById('reorderModal')).hide();
        }

        // Show toast notification
        function showToast(message, type) {
            const toastContainer = document.querySelector('.toast-container');
            const toastId = 'toast-' + Date.now();
            const bgColor = type === 'success' ? 'bg-success' : 'bg-warning';
            const icon = type === 'success' ? 'bi-check-circle-fill' : 'bi-exclamation-triangle-fill';
            
            const toastHTML = `
                <div class="toast align-items-center text-white ${bgColor} border-0 show" id="${toastId}" role="alert">
                    <div class="d-flex">
                        <div class="toast-body">
                            <i class="bi ${icon} me-2"></i>
                            ${message}
                        </div>
                        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                    </div>
                </div>
            `;
            
            toastContainer.insertAdjacentHTML('beforeend', toastHTML);
            
            // Auto remove toast after 5 seconds
            setTimeout(() => {
                const toastElement = document.getElementById(toastId);
                if (toastElement) {
                    toastElement.remove();
                }
            }, 5000);
        }
    </script>
</body>
</html>
